<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width"><title>Running Oracle 18c on MacOS | Dan [the] Salmon</title><link rel=alternate type=application/rss+xml title="Dan [the] Salmon: Posts" href=/posts/index.xml><link rel=alternate type=application/rss+xml title="Dan [the] Salmon: Links" href=/links/index.xml><link rel=me href=https://infosec.exchange/@dan name=Mastodon><link rel=me href=https://github.com/sa7mon name=GitHub><link rel=stylesheet href=/combined.min.a5fe1913713a5e577355cad1fe1240b37249c2f949298b40b20c33e509bdae1e.css integrity="sha256-pf4ZE3E6XldzVcrR/hJAs3JJwvlJKYtAsgwz5Qm9rh4=" crossorigin=anonymous></head><body><header><div class=header-container><a class=brand href=/>Dan [the] Salmon</a><nav><ul><li><a href=/about/>About</a></li><li><a href=/posts/>Posts</a></li><li><a href=/links/>Links</a></li><li><a href=/contact/>Contact</a></li></ul></nav></div></header><main class=page><time class=pub-date datetime=2018-07-05T00:40:32+00:00>July 5, 2018</time><h1 class=title>Running Oracle 18c on MacOS</h1><div class=tags><a href=/tags/oracle/>Oracle</a>
<a href=/tags/docker/>Docker</a>
<a href=/tags/macos/>MacOS</a></div><p><strong>Update: May 14, 2019</strong> <em>This article originally contained instructions for running Oracle 12c. The Docker image that was being used was deleted by the author and so was not usable. I have updated the instructions to work again, though the image it uses now runs Oracle 18c. If you need to run 12c specifically, you&rsquo;ll need to look for instructions elsewhere. Some screenshots may now be out of date.</em></p><p>In this post, we will go through the steps of installing Oracle 12c in a Docker container and connect to the database using SQL Developer on a Mac. This is a much lighter way of running Oracle locally compared to running a full Windows virtual machine with VMWare or Virtualbox.</p><h3 id=1-install-docker>1. Install Docker</h3><p><strong>- If your Mac is newer than 2010</strong><br>You can simply install “Docker for Mac”.
Download and install “Docker for Mac” <a href=https://store.docker.com/editions/community/docker-ce-desktop-mac>from here</a> (You’ll have to create a quick account to download it. Annoying, I know)</p><p><strong>- If your Mac is 2010 or older</strong><br>You can still run Docker, but there will be a few extra steps. You’ll install a tool called “Docker Toolbox” which includes everything you need.
Download and install “Docker Toolbox” <a href=https://docs.docker.com/toolbox/overview/#ready-to-get-started>here</a>.</p><h3 id=2-pull-docker-image>2. Pull Docker image</h3><ul><li>Open the Terminal app and run the following. If you get no errors Docker is installed correctly and running.</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>docker version
</span></span></code></pre></div><ul><li>Pull the Oracle image by running</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>docker pull hothamandcheese/oracle-18.4.0-xe
</span></span></code></pre></div><p><a target=_blank rel="noopener noreferer" href=../images/version-pull.png><img src=../images/version-pull.png alt=version-pull></a></p><h3 id=3-create-container>3. Create container</h3><ul><li>First we create a directory outside the Docker container to store the database</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>mkdir ~/oracle_data
</span></span></code></pre></div><ul><li>Then we create a new container with our downloaded image</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-docker data-lang=docker><span class=line><span class=cl>docker run -d -p 8080:8080 -p 1521:1521 -e <span class=nv>ORACLE_PWD</span><span class=o>=</span><span class=s1>&#39;Password1&#39;</span> -v ~/oracle_data/:/u01/app/oracle hothamandcheese/oracle-18.4.0-xe<span class=err>
</span></span></span></code></pre></div><p>This should return a long hash string.</p><script src=https://asciinema.org/a/PxUXoumtc5GeGKr6UCyVVSRyj.js id=asciicast-PxUXoumtc5GeGKr6UCyVVSRyj async></script><p><noscript><a href=https://asciinema.org/a/PxUXoumtc5GeGKr6UCyVVSRyj><img src=https://asciinema.org/a/PxUXoumtc5GeGKr6UCyVVSRyj.png alt=asciicast></a></noscript><noscript>Scripts are disabled!</noscript></p><ul><li>Open Kitematic and find the container we just created.</li><li>Click the &ldquo;Start&rdquo; button. The first time you start the container, it will take a 5-10 minutes for the database to build. Just wait until the log reads: <strong>DATABASE IS READY TO USE!</strong></li></ul><p><a target=_blank rel="noopener noreferer" href=../images/kitematic.png><img src=../images/kitematic.png alt=Kitematic></a></p><h3 id=4-install-sql-developer>4. Install SQL Developer</h3><ul><li>Head to <a href=https://www.oracle.com/technetwork/developer-tools/sql-developer/downloads/index.html>this page</a>, click the Agree button and hit Download. You&rsquo;ll have to create a quick account to continue through the download (very annoying, I agree).</li><li>Unzip, drag the app into the Applications folder, and fire it up</li></ul><h3 id=5-connect-to-oracle-database>5. Connect to Oracle database</h3><ul><li>In SQL Developer, click the green plus button to create a new connection.</li><li><em>If your Mac is 2010 or older:</em> Get the IP address of your Oracle container by opening Kitematic and switching to the Settings and then Hostname / Ports. Use this in the next step for Hostname.</li><li>The default credentials to connect are as follows:<ul><li><strong>Connection Name:</strong> Whatever you want. I suggest &ldquo;Docker - Oracle System&rdquo;</li><li><strong>Username:</strong> system</li><li><strong>Password:</strong> Password1</li><li><strong>Hostname:</strong> localhost</li><li><strong>Port:</strong> 1521</li><li><strong>SID:</strong> xe</li></ul></li><li>When you&rsquo;ve filled all that out, hit &ldquo;Test&rdquo;. If the message in the lower-left corner reads &ldquo;Status: Success&rdquo;, you&rsquo;ve done it correctly. Hit Save and then Connect. If you didn&rsquo;t get a success message, double-check your IP address and username/password combination.</li></ul><p><a target=_blank rel="noopener noreferer" href=../images/new-connection.png><img src=../images/new-connection.png alt="New SQL Developer Connection"></a></p><h3 id=6-creating-new-databases>6. Creating new databases</h3><ul><li>In Oracle 12c, users and databases are essentially the same thing. So to create a new database, we&rsquo;ll create a new user with the following SQL queries, assuming we want to create a database with name &ldquo;SALES&rdquo; and password &ldquo;password&rdquo;. Execute the following in a SQL worksheet</li></ul><p><em>Change SALES to whatever database name you want</em></p><pre><code>CREATE USER SALES
  IDENTIFIED BY password
  DEFAULT TABLESPACE USERS
  TEMPORARY TABLESPACE TEMP
  QUOTA 200M on USERS;
 
GRANT create session TO SALES;
GRANT create table TO SALES;
GRANT create view TO SALES;
GRANT create any trigger TO SALES;
GRANT create any procedure TO SALES;
GRANT create sequence TO SALES;
GRANT create synonym TO SALES;
</code></pre><h3 id=potential-problems>Potential Problems</h3><ul><li><code>IO Error: The Network Adapter could not establish the connection</code></li></ul><p>This means that you are trying to connect with SQL Developer, but your Docker container is stopped. Open Kitematic, select your Oracle container, and click &ldquo;Start&rdquo;. When the logs read &ldquo;Database ready to use. Enjoy! ;)&rdquo;</p></main></body></html>