<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width"><title>Homebrew is awesome | Dan [the] Salmon</title><link rel=alternate type=application/rss+xml title="Dan [the] Salmon: Posts" href=/posts/index.xml><link rel=alternate type=application/rss+xml title="Dan [the] Salmon: Links" href=/links/index.xml><link rel=me href=https://infosec.exchange/@dan name=Mastodon><link rel=me href=https://github.com/sa7mon name=GitHub><link rel=stylesheet href=/combined.min.a5fe1913713a5e577355cad1fe1240b37249c2f949298b40b20c33e509bdae1e.css integrity="sha256-pf4ZE3E6XldzVcrR/hJAs3JJwvlJKYtAsgwz5Qm9rh4=" crossorigin=anonymous></head><body><header><div class=header-container><a class=brand href=/>Dan [the] Salmon</a><nav><ul><li><a href=/about/>About</a></li><li><a href=/posts/>Posts</a></li><li><a href=/links/>Links</a></li><li><a href=/contact/>Contact</a></li></ul></nav></div></header><main class=page><time class=pub-date datetime=2023-08-07T00:00:00+00:00>August 7, 2023</time><h1 class=title>Homebrew is awesome</h1><div class=tags><a href=/tags/homebrew/>Homebrew</a>
<a href=/tags/macos/>MacOS</a></div><p>Now that the Golang rewrite of <a href=https://github.com/sa7mon/S3Scanner>S3Scanner</a> is complete, I have a few TODOs to get it packaged for a few different package managers. Mostly I&rsquo;m just curious what the process is to, for example, get a package into Homebrew.</p><p><strong>I&rsquo;m happy to report it is very easy and totally painless!</strong></p><p>I started by following the <a href=https://docs.brew.sh/Formula-Cookbook>Formula Cookbook</a> which lays out every option you might need when building your own <em>formula</em> (Homebrew&rsquo;s term for <em>package</em>). I was able to follow along easily and refer to the many other formulae for Go packages. The S3Scanner formula was easier to create than others probably are because there are no runtime dependencies and only one build dependency - Go.</p><p>I used the <a href=https://github.com/Homebrew/homebrew-core/blob/master/Formula/aztfexport.rb>aztfexport formula</a> as a reference for no reason other than it was near the top of the search results for &ldquo;go&rdquo; in the <a href=https://github.com/Homebrew/homebrew-core>formula repo</a>. As a bonus, it uses the same method to inject the version number via link flags: <code>go build -ldflags="-X 'main.version=${VERSION}'"</code>.</p><p>Around 12:45 AM I submitted my <a href=https://github.com/Homebrew/homebrew-core/pull/138025>pull request</a> which was only about 1 hour after I first opened the documentation! The next morning I had a code change suggestion to review from a maintainer which took all of one click to accept. After that, a series of seemingly automated actions took place triggered by the maintainer adding and removing labels from the PR.</p><p>The result of the actions was that a day after I submitted my PR, it was accepted and merged into the <code>homebrew-core</code> repository. My formula was now available! Immediately after getting the email from Github, I pulled up a terminal to do <code>brew update && brew install s3scanner</code> and sure enough, there was my package.</p><p>v3.0.0 of S3Scanner is now available from Homebrew and the process to contribute could not have been smoother. Homebrew is awesome.</p></main></body></html>